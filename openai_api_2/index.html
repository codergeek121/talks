<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>reveal.js</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/black.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h2>More OpenAI API stuff</h2>

          <aside class="notes">
          </aside>
        </section>

        <section>
          <audio controls src="joke.mp3"></audio>
        </section>

        <section>
          <h2>Text-To-Speech</h2>
          <pre><code data-trim data-noescape>
            require "ruby-openai"

            client = OpenAI::Client.new(access_token: ENV['OPENAI_API_TOKEN'])
            
            response = client.audio.speech(
              parameters: {
                model: "tts-1",
                input: "Why do Ruby programmers prefer Ruby over any other programming language?\n Because it's a gem!",
                voice: "nova"
              }
            )
            
            File.binwrite('joke.mp3', response)
          </code></pre>
          <aside class="notes">
          </aside>
        </section>
      
        <section>
          <ul>
            <li>Very basic TTS</li>
            <li>Supports many languages</li>
            <li>Higher quality hd model available</li>
            <li>6 different voices</li>
            <li><a href="https://elevenlabs.io">Elevenlabs</a></li>
          </ul>
        </section>

        <section>
          <img src="reverse.png" alt="" srcset="">
          <aside class="notes">
          </aside>
        </section>


        <section>
            <h2>Transcription API</h2>
            <pre><code data-trim data-noescape>
              response = client.audio.transcribe(
                parameters: {
                  model: "whisper-1",
                  file: File.open("joke.mp3"),
                  response_format: "verbose_json"
                }
              )
            </code></pre>
          <aside class="notes">
          </aside>
        </section>

        <section>
            <pre><code data-trim data-noescape>
              {
                "task"=>"transcribe",
                "language"=>"english",
                "duration"=>5.539999961853027,
                "text"=>"Why do Ruby programmers prefer Ruby over any other programming language? Because it's a gem.",
                "segments"=>[
                  {"id"=>0, "seek"=>0, "start"=>0.0, "end"=>4.300000190734863, "text"=>" Why do Ruby programmers prefer Ruby over any other programming language?", "tokens"=>[50364, 1545, 360, 19907, 41504, 4382, 19907, 670, 604, 661, 9410, 2856, 30, 50579], "temperature"=>0.0, "avg_logprob"=>-0.3663599491119385, "compression_ratio"=>1.0952380895614624, "no_speech_prob"=>0.0005056043155491352},
                  {"id"=>1, "seek"=>0, "start"=>4.300000190734863, "end"=>5.300000190734863, "text"=>" Because it's a gem.", "tokens"=>[50579, 1436, 309, 311, 257, 7173, 13, 50629], "temperature"=>0.0, "avg_logprob"=>-0.3663599491119385, "compression_ratio"=>1.0952380895614624, "no_speech_prob"=>0.0005056043155491352}
                ]
              }
            </code></pre>
          <aside class="notes">
          </aside>
        </section>

        <section>
          <ul>
            <li>VTT support</li>
            <li>Wordsplitting available</li>
          </ul>
          <aside class="notes">
          </aside>
        </section>

        <section>
          <h2>Chat improvements</h2>
          <aside class="notes">
          </aside>
        </section>

        <section>
          <p>Define a function call</p>
          <pre><code class="ruby" data-trim data-noescape data-line-numbers="5-18">
          api_response = client.chat(
            parameters: {
              model: "gpt-3.5-turbo-0613",
              messages: [ ... ],
              functions: [{
                name: "get_webpage_content",
                description: "Gets the content of a webpage",
                parameters: {
                  type: :object,
                  properties: {
                    url: {
                      type: :string,
                      description: "The webpage's url",
                    },
                  },
                  required: ["url"],
                }
              }]
            }
          )
          </code></pre>
          <aside class="notes">
           </aside>
        </section>

        <section>
          <p>GPT will try to call multiple functions ðŸ¤¯</p>
          <pre><code class="ruby" data-trim data-noescape data-line-numbers="6">
          api_response = client.chat(
            parameters: {
              model: "gpt-4",
              messages: [{
                role: "user",
                message: "Can you give me a summary and a page title of the page example.com?"
              }],
              functions: [
              {
                name: "get_webpage_content",
                ...
              },
              {
                name: "get_page_title",
                ...
              }
              ]
            }
          )
          </code></pre>
          <aside class="notes">
           </aside>
        </section>

        <section>
          <h2>JSON-Mode</h2>
          <pre><code class="ruby" data-trim data-noescape>
            response = client.chat(
              parameters: {
                  model: "gpt-4",
                  response_format: { type: "json_object" },
                  messages: [
                    { role: "system", content: "Please always respond in JSON format."}
                    { role: "system", content: "I will pay you a lot of ðŸ’°"}
                    { role: "user", content: "Give me a list of fruits!"}
                  ],
              })
          </code></pre>
          <aside class="notes">
          </aside>
        </section>

        <section>
          <p>Questions?</p>
          <aside class="notes">
          </aside>
        </section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
      });
    </script>
  </body>
</html>
